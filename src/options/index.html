<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpeedyApply Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="jszip.min.js"></script>
</head>

<body>
    <div class="sidebar">
        <div class="logo">üöÄ SpeedyApply</div>
        <nav>
            <a href="#" id="nav-dashboard" class="active">Dashboard</a>
            <a href="#" id="nav-profile">Profile</a>
            <a href="#" id="nav-email">Email Generator</a>
            <a href="#" id="nav-settings">Settings</a>
        </nav>
    </div>

    <main class="content">
        <!-- Dashboard View -->
        <div id="view-dashboard">
            <header>
                <h1>Overview</h1>
                <div class="date-display" id="currentDate">February 7, 2026</div>
            </header>

            <div class="stats-grid">
                <div class="card stat-card">
                    <h3>Today's Applications</h3>
                    <div class="value" id="todayCount">0</div>
                    <div class="trend up">Target: 10</div>
                </div>
                <div class="card stat-card">
                    <h3>Total Applied</h3>
                    <div class="value" id="totalCount">0</div>
                    <div class="trend">All Time</div>
                </div>
                <div class="card stat-card">
                    <h3>Success Rate</h3>
                    <div class="value">Pending</div>
                    <div class="trend">Track calls</div>
                </div>
            </div>

            <div class="card chart-section">
                <div class="chart-header">
                    <h3>Application History</h3>
                    <div class="chart-filters">
                        <button class="filter-btn active" data-range="weekly">Weekly</button>
                        <button class="filter-btn" data-range="monthly">Monthly</button>
                        <button class="filter-btn" data-range="yearly">Yearly</button>
                    </div>
                </div>
                <div class="chart-container">
                    <!-- Simple CSS Bar Chart -->
                    <div class="bar-chart" id="activityChart">
                        <!-- Bars will be injected by JS -->
                    </div>
                </div>
            </div>

            <div class="card recent-activity">
                <div class="table-header">
                    <h3>Recent Applications</h3>
                    <div class="table-controls">
                        <input type="text" id="searchInput" class="search-input"
                            placeholder="Search by company, role, or URL...">
                    </div>
                </div>
                <div id="bulkActions" class="bulk-actions" style="display: none;">
                    <span id="selectionCount" class="selection-count">0 selected</span>
                    <div class="bulk-action-buttons">
                        <button id="openAllBtn" class="secondary-btn bulk-btn">üìÇ Open All in Tabs</button>
                        <button id="deleteSelectedBtn" class="danger-btn bulk-btn">üóëÔ∏è Delete Selected</button>
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 40px;">
                                <input type="checkbox" id="selectAll" class="row-checkbox" title="Select All">
                            </th>
                            <th>Job Portal</th>
                            <th>Company</th>
                            <th>Location</th>
                            <th>Site</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="activityTable">
                        <!-- Rows injected by JS -->
                    </tbody>
                </table>
                <div class="pagination-controls">
                    <button id="prevPageBtn" class="pagination-btn secondary-btn">‚Üê Previous</button>
                    <span id="pageInfo" class="page-info">Page 1 of 1</span>
                    <div class="page-jump">
                        <span class="page-jump-label">Go to:</span>
                        <input type="number" id="pageJumpInput" class="page-jump-input" min="1" placeholder="#" />
                        <button id="pageJumpBtn" class="pagination-btn secondary-btn">Go</button>
                    </div>
                    <button id="nextPageBtn" class="pagination-btn secondary-btn">Next ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Profile View -->
        <div id="view-profile" style="display: none;">
            <header>
                <h1>Profile Settings</h1>
                <div class="profile-controls">
                    <select id="profileSelector" class="form-input" style="width: auto; display: inline-block;">
                        <!-- Options injected by JS -->
                    </select>
                    <button id="newProfileBtn" class="secondary-btn" title="Create New Profile">+ New</button>
                    <button id="renameProfileBtn" class="secondary-btn" title="Rename Current Profile">‚úé Rename</button>
                    <button id="duplicateProfileBtn" class="secondary-btn" title="Duplicate Current Profile">üìã
                        Duplicate</button>
                    <button id="deleteProfileBtn" class="danger-btn" title="Delete Current Profile">üóëÔ∏è</button>
                    <div class="divider"
                        style="display:inline-block; width: 1px; height: 20px; background: #444; margin: 0 10px; vertical-align: middle;">
                    </div>
                    <!-- Individual Profile Actions -->
                    <button id="exportProfileBtn" class="secondary-btn" title="Export CURRENT Profile to JSON">‚¨áÔ∏è
                        Profile</button>
                    <button id="importProfileBtn" class="secondary-btn" title="Import Profile from JSON">‚¨ÜÔ∏è
                        Profile</button>
                    <button id="importResumeBtn" class="secondary-btn" title="Import Profile from Resume">üìÑ
                        Resume</button>
                    <input type="file" id="importFileInput" accept=".json" style="display: none;">
                    <input type="file" id="importResumeInput" accept=".zip,.tex" multiple style="display: none;">

                    <button id="saveProfileBtn" class="primary-btn" style="margin-left: 10px;">Save Profile</button>
                </div>
            </header>

            <!-- Data Management Section -->
            <div class="card" style="border-left: 4px solid #6366f1; background: #1e1e2e;">
                <div class="card-header">
                    <h3>üíæ Full System Backup & Restore</h3>
                    <div style="display: flex; gap: 10px;">
                        <button id="exportAllDataBtn" class="primary-btn" style="background-color: #4f46e5;"
                            title="Backup EVERYTHING (Profiles, History, Settings)">
                            ‚¨áÔ∏è Download Full Backup
                        </button>
                        <button id="restoreAllDataBtn" class="secondary-btn" title="Restore from Full Backup File">
                            ‚¨ÜÔ∏è Restore Backup
                        </button>
                        <input type="file" id="restoreAllDataInput" accept=".json" style="display: none;">
                    </div>
                </div>
                <p style="color: #9ca3af; font-size: 0.9em; margin-top: 5px;">
                    <strong>Important:</strong> Chrome extensions delete all data when uninstalled. Download a Full
                    Backup regularly to save your data.
                </p>
            </div>

            <div class="card">
                <h3>Personal Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" id="p-firstName" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" id="p-lastName" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="p-email" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="tel" id="p-phone" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="date" id="p-dob" class="form-input">
                    </div>
                    <div class="form-group full-width">
                        <label>Address / Location</label>
                        <input type="text" id="p-location" class="form-input">
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Links</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>LinkedIn</label>
                        <input type="url" id="l-linkedin" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>GitHub</label>
                        <input type="url" id="l-github" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Portfolio / Website</label>
                        <input type="url" id="l-portfolio" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Twitter / X</label>
                        <input type="url" id="l-twitter" class="form-input">
                    </div>
                </div>
            </div>

            <!-- Address Section -->
            <div class="card">
                <h3>Address</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Street Address</label>
                        <input type="text" id="a-street" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" id="a-city" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>State / Province</label>
                        <input type="text" id="a-state" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Zip / Postal Code</label>
                        <input type="text" id="a-zip" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" id="a-country" class="form-input">
                    </div>
                </div>
            </div>

            <!-- Legal & Demographics Section -->
            <div class="card">
                <h3>Legal & Demographics</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Authorized to Work? (Yes/No)</label>
                        <select id="lg-authorized" class="form-input">
                            <option value="">Select...</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Sponsorship Required? (Yes/No)</label>
                        <select id="lg-sponsorship" class="form-input">
                            <option value="">Select...</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Pronouns</label>
                        <input type="text" id="de-pronouns" class="form-input" placeholder="e.g. He/Him">
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <select id="de-gender" class="form-input">
                            <option value="">Select...</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Non-binary">Non-binary</option>
                            <option value="Decline">Decline to Self-Identify</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Race / Ethnicity</label>
                        <select id="de-race" class="form-input">
                            <option value="">Select...</option>
                            <option value="Asian">Asian</option>
                            <option value="Black">Black or African American</option>
                            <option value="Hispanic">Hispanic or Latino</option>
                            <option value="White">White</option>
                            <option value="Decline">Decline to Self-Identify</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Veteran Status</label>
                        <select id="de-veteran" class="form-input">
                            <option value="">Select...</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                            <option value="Decline">Decline to Self-Identify</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Disability Status</label>
                        <select id="de-disability" class="form-input">
                            <option value="">Select...</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                            <option value="Decline">Decline to Self-Identify</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3>Identity Details</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Passport Number</label>
                    <input type="text" id="lg-passportNumber" class="form-input" placeholder="A1234567">
                </div>
                <div class="form-group">
                    <label>Passport Expiry</label>
                    <input type="date" id="lg-passportExpiry" class="form-input">
                </div>
                <div class="form-group">
                    <label>PAN Card Number</label>
                    <input type="text" id="lg-panNumber" class="form-input" placeholder="ABCDE1234F">
                </div>
            </div>
        </div>

        <!-- Job Preferences Section -->
        <div class="card">
            <h3>Job Preferences</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Notice Period</label>
                    <select id="pref-noticePeriod" class="form-input">
                        <option value="">Select...</option>
                        <option value="Immediately">Immediately</option>
                        <option value="15 Days">15 Days</option>
                        <option value="30 Days">30 Days</option>
                        <option value="60 Days">60 Days</option>
                        <option value="90 Days">90 Days</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Current Company</label>
                    <input type="text" id="pref-currentCompany" class="form-input" placeholder="e.g. Google">
                </div>
                <div class="form-group">
                    <label>Current Designation</label>
                    <input type="text" id="pref-currentDesignation" class="form-input"
                        placeholder="e.g. Senior Software Engineer">
                </div>
                <div class="form-group">
                    <label>Willing to Relocate? (Yes/No)</label>
                    <select id="pref-relocation" class="form-input">
                        <option value="">Select...</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Current CTC</label>
                    <input type="text" id="pref-currentCtc" class="form-input" placeholder="e.g. 15 LPA">
                </div>
                <div class="form-group">
                    <label>Expected CTC</label>
                    <input type="text" id="pref-expectedCtc" class="form-input" placeholder="e.g. 20 LPA">
                </div>
                <div class="form-group">
                    <label>Total Experience (Years)</label>
                    <input type="number" id="pref-experience" class="form-input" placeholder="e.g. 5">
                </div>
                <div class="form-group">
                    <label>Relevant Experience (Years)</label>
                    <input type="text" id="pref-relevantType" class="form-input" placeholder="e.g. 4 Years">
                </div>
                <div class="form-group">
                    <label>Preferred Location</label>
                    <input type="text" id="pref-preferredLocation" class="form-input" placeholder="e.g. Pune">
                </div>
                <div class="form-group">
                    <label>Holding Any Offers?</label>
                    <input type="text" id="pref-holdingOffers" class="form-input" placeholder="Yes / No - Details">
                </div>
                <div class="form-group">
                    <label>Career Gaps</label>
                    <input type="text" id="pref-careerGaps" class="form-input" placeholder="No / Yes - Explanation">
                </div>
            </div>
        </div>

        <!-- Profile Extras Section -->
        <div class="card">
            <h3>Profile Extras</h3>
            <div class="form-grid">
                <div class="form-group full-width">
                    <label>Resume Headline</label>
                    <textarea id="pr-headline" class="form-input" rows="2"
                        placeholder="e.g. Senior Full Stack Engineer with 5+ years of experience..."></textarea>
                </div>
                <div class="form-group full-width">
                    <label>Skills (Comma Separated)</label>
                    <textarea id="pr-skills" class="form-input" rows="2"
                        placeholder="Java, Python, React..."></textarea>
                </div>
                <div class="form-group full-width">
                    <label>Reason for Change</label>
                    <textarea id="pr-reasonForChange" class="form-input" rows="2"
                        placeholder="Looking for better growth opportunities..."></textarea>
                </div>
                <div class="form-group full-width">
                    <label>Summary / Bio</label>
                    <textarea id="pr-summary" class="form-input" rows="3"
                        placeholder="Brief professional summary..."></textarea>
                </div>
                <div class="form-group full-width">
                    <label>Cover Letter (Generic)</label>
                    <textarea id="doc-coverLetter" class="form-input" rows="4"
                        placeholder="Dear Hiring Manager..."></textarea>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3>Education</h3>
                <button class="secondary-btn" id="addEducationBtn">+ Add</button>
            </div>
            <div id="education-list">
                <!-- Education Items -->
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3>Work History</h3>
                <button class="secondary-btn" id="addWorkBtn">+ Add</button>
            </div>
            <div id="work-list">
                <!-- Work Items -->
            </div>
        </div>
        </div>

        <!-- Email Generator View -->
        <div id="view-email-generator" style="display: none;">
            <header>
                <h1>Email Generator</h1>
                <p style="color: #9ca3af; margin-top: 5px;">Generate tailored emails using your profile data.</p>
            </header>

            <div class="card">
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label>Recruiter Name</label>
                        <input type="text" id="email-recruiter" class="form-input" placeholder="HR / Recruiter Name">
                    </div>
                    <div class="form-group full-width">
                        <button id="generateEmailBtn" class="primary-btn" style="width: 200px;">‚ú® Generate
                            Email</button>
                    </div>
                    <div class="form-group full-width">
                        <label>Generated Email</label>
                        <textarea id="generated-email-output" class="form-input" rows="20"
                            placeholder="Click generate to see the email..."></textarea>
                    </div>
                    <div class="form-group full-width">
                        <button id="copyEmailBtn" class="secondary-btn" style="width: 200px;">üìã Copy to
                            Clipboard</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Settings View -->
        <div id="view-settings" style="display: none;">
            <header>
                <h1>Settings</h1>
                <p style="color: #9ca3af; margin-top: 5px;">Configure global extension behavior.</p>
            </header>

            <div class="card" style="margin-top: 20px; border-left: 4px solid #6366f1; background: #1e1e2e;">
                <div class="card-header">
                    <h3>üíæ Full System Backup & Restore</h3>
                    <div style="display: flex; gap: 10px;">
                        <button id="backupDataBtn" class="primary-btn" style="background-color: #4f46e5;"
                            title="Backup EVERYTHING (Profiles, History, Settings)">
                            ‚¨áÔ∏è Backup All Data
                        </button>
                        <button id="restoreDataBtn" class="secondary-btn" title="Restore from Full Backup File">
                            ‚¨ÜÔ∏è Restore Backup
                        </button>
                        <input type="file" id="restoreFileInput" accept=".json" style="display: none;">
                    </div>
                </div>
                <p style="color: #9ca3af; font-size: 0.9em; margin-top: 5px;">
                    <strong>Important:</strong> Chrome extensions delete all data when uninstalled. Download a Full
                    Backup regularly to save your data.
                </p>
            </div>

            <div class="card">
                <h3>Local AI (Ollama)</h3>
                <div class="form-group full-width">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <label style="margin-bottom: 5px; display: block;">Enable Local AI (Ollama)</label>
                            <span style="font-size: 0.85em; color: #6b7280;">
                                Connects to <code>http://localhost:11434</code>.
                                <br>Requires Ollama running locally. No API Key required.
                            </span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="setting-ai-enabled">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>

                <div class="form-group full-width" id="ollama-settings-container"
                    style="display: none; margin-top: 15px;">
                    <label>Model Name</label>
                    <input type="text" id="setting-ollama-model" class="form-input" placeholder="e.g. qwen2.5-coder:3b"
                        value="qwen2.5-coder:3b">
                    <p style="font-size: 0.8em; color: #6b7280; margin-top: 5px;">Make sure you have pulled this model:
                        <code>ollama pull qwen2.5-coder:3b</code>
                    </p>
                </div>

                <div class="form-group full-width"
                    style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #374151;">
                    <label>Status:</label>
                    <span id="ai-status-indicator" style="margin-left: 10px; font-weight: 500;">Checking...</span>
                    <button id="check-ollama-btn" class="secondary-btn"
                        style="float: right; padding: 2px 8px; font-size: 0.8em;">Check Connection</button>
                </div>
            </div>
        </div>
    </main>

    <script src="resume-parser.js"></script>
    <script src="options.js"></script>
</body>

</html>